@page "/attendance"
@using BlazorApp1.Models.Attendance
@using MudBlazor

@inject IDialogService DialogService

<div class="attendance-row-modern">

    <!-- ستون جدول + مجموع کل زمان -->
    <div class="glass-card table-side-modern">
        <div class="total-duration-glass">
            <span>@TotalDuration</span>
            : مجموع کل زمان
        </div>

        <DynamicTable TItem="TimeEntry"
                      Items="Entries"
                      Columns="Columns" />
    </div>

    <!-- ستون ساعت، تایمر، دکمه‌ها -->
    <div class="glass-card clock-side-modern">
        <div class="glass-clock-led">
            <DigitalClock />
        </div>

        <div class="elapsed-label-glass">
            <span>@ElapsedStr</span>
            : زمان کار انجام شده
        </div>

        <div class="modern-btn-group-glass">

            <!-- دکمه ورود -->
            <MudButton Disabled="@StartTime.HasValue"
                       Class="modern-btn-glass modern-btn-glass-checkin"
                       OnClick="HandleCheckIn">
                <MudIcon Icon="@Icons.Material.Filled.Login" />
                ورود
            </MudButton>

            <!-- دکمه خروج (قرمز) -->
            <MudButton Disabled="@(!StartTime.HasValue)"
                       Class="modern-btn-glass modern-btn-glass-checkout"
                       OnClick="HandleCheckOut">
                <MudIcon Icon="@Icons.Material.Filled.Logout" />
                خروج
            </MudButton>
        </div>
    </div>
</div>
