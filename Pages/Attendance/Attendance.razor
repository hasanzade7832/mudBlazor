@page "/attendance"
@using BlazorApp1.Models.Attendance
@using MudBlazor

<div class="attendance-row-modern">
    <!-- ستون راست: تایمر و دکمه‌ها -->
    <div class="attendance-col-modern clock-side-modern">
        <div class="digital-clock-modern">
            <DigitalClock />
        </div>
        <div class="elapsed-label-modern">
            زمان کار انجام شده: <span>@ElapsedStr</span>
        </div>
        <div class="modern-btn-group">
            <MudButton Disabled="@StartTime.HasValue" OnClick="HandleCheckIn" Class="modern-btn modern-btn-checkin">
                ورود
            </MudButton>
            <MudButton Disabled="@(!StartTime.HasValue)" OnClick="HandleCheckOut" Class="modern-btn modern-btn-checkout">
                خروج
            </MudButton>
        </div>
        <div class="total-duration-modern">
            مجموع کل زمان: <span>@TotalDuration</span>
        </div>
    </div>
    <!-- ستون چپ: جدول -->
    <div class="attendance-col-modern table-side-modern">
        <div class="table-glass-modern">
            @if (Entries?.Count > 0)
            {
                <DynamicTable TItem="TimeEntry" Items="Entries" Columns="Columns" />
            }
            else
            {
                <div class="alert-empty-modern">
                    هنوز هیچ زمان حضوری ثبت نشده است.
                </div>
            }
        </div>
    </div>
</div>
